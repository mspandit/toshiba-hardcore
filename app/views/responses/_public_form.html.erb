<%= form_for(@response) do |f| %>
<% if @response.errors.any? %>
<div id="error_explanation">
	<h2><%= pluralize(@response.errors.count, "error") %> prohibited this response from being saved:</h2>

	<ul>
		<% @response.errors.full_messages.each do |msg| %>
		<li><%= msg %></li>
		<% end %>
	</ul>
</div>
<% end %>

<div class="thermometer-container">

</div>
<div class="middle">
	<h1>What's Your Passion?</h1>

	<h2>Video?</h2>
	<div class="field primary">
		<%= f.check_box :online %>
		<%= f.label :online, raw("Web videos &amp; video chat") %>
	</div>
	<div class="field primary">
		<%= f.check_box :watch %>
		<%= f.label :watch, raw("Movies &amp; TV") %>
	</div>
	<div class="field primary">
		<%= f.check_box :edit_movies %>
		<%= f.label :edit_movies, raw("Home video editing") %>
	</div>

	<h2>Photos?</h2>
	<div class="field primary">
		<%= f.check_box :download %>
		<%= f.label :download, raw("Easy photo transfers") %>
	</div>
	<div class="field primary">
		<%= f.check_box :print %>
		<%= f.label :print, raw("Stunning photo prints") %>
	</div>
	<div class="field primary">
		<%= f.check_box :edit_photos %>
		<%= f.label :edit_photos, raw("Photo editing") %>
	</div>

	<h2>Music?</h2>
	<div class="field primary">
		<%= f.check_box :stream %>
		<%= f.label :stream, raw("Streaming internet radio/music") %>
	</div>
	<div class="field primary">
		<%= f.check_box :digital %>
		<%= f.label :digital, raw("MP3 management") %>
	</div>
	<div class="field primary">
		<%= f.check_box :record %>
		<%= f.label :record, raw("Music production") %>
	</div>

  <h2>Games?</h2>
  <div class="field primary">
    <%= f.check_box :scrabble %>
    <%= f.label :scrabble, raw("Words With Friends and such") %>
  </div>
  <div class="field primary">
    <%= f.check_box :rpg %>
    <%= f.label :rpg, raw("Strategy &amp; role-play games") %>
  </div>
  <div class="field primary">
    <%= f.check_box :shooters %>
    <%= f.label :shooters, raw("Graphics-heavy games") %>
  </div>

  <h2>Portability?</h2>
  <div class="field primary">
    <%= f.check_box :desk_work %>
    <%= f.label :desk_work, raw("Desk work") %>
  </div>
  <div class="field primary">
    <%= f.check_box :planes_trains %>
    <%= f.label :planes_trains, raw("Planes, trains &amp; automobiles") %>
  </div>
  <div class="field primary">
    <%= f.check_box :coffee_shops %>
    <%= f.label :coffee_shops, raw("Coffee shops &amp; parks") %>
  </div>
	
  <h2>Productivity?</h2>
  <div class="field primary">
    <%= f.check_box :docs %>
    <%= f.label :docs, raw("Docs, spreadsheets & ppts") %>
  </div>
  <div class="field primary">
    <%= f.check_box :blogging %>
    <%= f.label :blogging, raw("Blogging &amp; tweeting") %>
  </div>
  <div class="field primary">
    <%= f.check_box :architecture %>
    <%= f.label :architecture, raw("Architecture &amp; CAD") %>
  </div>
</div>
<div class="right">
	<h1>Are You Hardcore?</h1>

	<h2>Video?</h2>
	
	<div class="field secondary">
		<%= f.check_box :online2, :href => "response_online" %>
		<%= f.label :online2, raw("I have 3 YouTube accounts") %>
	</div>
	<div class="field secondary">
		<%= f.check_box :watch2, :href => "response_watch" %>
		<%= f.label :watch2, raw("I love watching in widescreen") %>
	</div>
	<div class="field secondary">
		<%= f.check_box :edit_movies2, :href => "response_edit_movies" %>
		<%= f.label :edit_movies2, raw("I record everything") %>
	</div>

	<h2>Photos?</h2>
	
	<div class="field secondary">
		<%= f.check_box :download2, :href => "response_download" %>
		<%= f.label :download2, raw("I store all of our photos") %>
	</div>
	<div class="field secondary">
		<%= f.check_box :print2, :href => "response_print" %>
		<%= f.label :print2, raw("I'm always looking for the best shot") %>
	</div>
	<div class="field secondary">
		<%= f.check_box :edit_photos2, :href => "response_edit_photos" %>
		<%= f.label :edit_photos2, raw("I touch up everything") %>
	</div>

	<h2>Music?</h2>
	
	<div class="field secondary">
		<%= f.check_box :stream2, :href => "response_stream" %>
		<%= f.label :stream2, raw("I only listen to my music online") %>
	</div>
	<div class="field secondary">
		<%= f.check_box :digital2, :href => "response_digital" %>
		<%= f.label :digital2, raw("I have hundreds of MP3s to store") %>
	</div>
	<div class="field secondary">
		<%= f.check_box :record2, :href => "response_record" %>
		<%= f.label :record2, raw("My band is making a demo") %>
	</div>

  <h2>Games?</h2>

  <div class="field secondary">
    <%= f.check_box :scrabble2, :href => "response_scrabble" %>
    <%= f.label :scrabble2, raw("I play to win 24/7") %>
  </div>
  <div class="field secondary">
    <%= f.check_box :rpg2, :href => "response_rpg" %>
    <%= f.label :rpg2, raw("I have 12 different personas") %>
  </div>
  <div class="field secondary">
    <%= f.check_box :shooters2, :href => "response_shooters" %>
    <%= f.label :shooters2, raw("The more realistic the better") %>
  </div>

  <h2>Portability?</h2>
  <div class="field secondary">
    <%= f.check_box :desk_work2, :href => "response_desk_work" %>
    <%= f.label :desk_work2, raw("I never leave my desk") %>
  </div>
  <div class="field secondary">
    <%= f.check_box :planes_trains2, :href => "response_planes_trains" %>
    <%= f.label :planes_trains2, raw("I travel everywhere with my laptop") %>
  </div>
  <div class="field secondary">
    <%= f.check_box :coffee_shops2, :href => "response_coffee_shops" %>
    <%= f.label :coffee_shops2, raw("Starbucks is my second home") %>
  </div>
	
  <h2>Productivity?</h2>
  <div class="field secondary">
    <%= f.check_box :docs2, :href => "response_docs" %>
    <%= f.label :docs2, raw("My Excel runs math simulations") %>
  </div>
  <div class="field secondary">
    <%= f.check_box :blogging2, :href => "response_blogging" %>
    <%= f.label :blogging2, raw("I have a blog for each of my hobbies") %>
  </div>
  <div class="field secondary">
    <%= f.check_box :architecture2, :href => "response_architecture" %>
    <%= f.label :architecture2, raw("Fly-throughs and renders galore") %>
  </div>	
</div>
<% end %>
<script type="text/javascript" charset="utf-8">
	function onchange() {
		$("#results").html("Loading...");
		$.ajax("/responses/ajax_create", {
			data: $('form').serialize(),
			type: "POST",
			success: function (data) {
				$("#results").html(data);
			}
		})
	}

	$('input[type=checkbox]').bind('change', function () {
		if ($(this).attr("checked") == "checked") {
			$(this).parent().addClass("selected");
		} else {
			$(this).parent().removeClass("selected");
		}
	});

	$('.primary input[type=checkbox]').bind('change', function () {
		secondary = $("input[href=" + $(this).attr("id") + "]");
		secondary.attr("checked", false);
		if ($(this).attr("checked") == "checked") {
			secondary.parent().removeClass("secondary");
		} else {
			secondary.parent().addClass("secondary");
		}
	});
	$('input[type=checkbox]').bind('change', onchange);
	$(function () {
		onchange();
		$.each($('.primary input[type=checkbox]'), function (index, inp) {
			if ($(inp).attr("checked") == "checked") {
				$(inp).parent().addClass("selected");
				secondary = $("input[href=" + $(inp).attr("id") + "]");
				secondary.parent().removeClass("secondary");
				if (secondary.attr("checked") == "checked") {
					secondary.parent().addClass("selected");
				}
			}
		});
	});
</script>